Excellent â€” letâ€™s build **FantasyManagerXI** the way a senior JavaFX architect would structure it: clean MVC, scalable, and maintainable.

Weâ€™ll go phase by phase, from project setup to advanced improvements.

---

# ğŸ§© PHASE 1 â€” Project Setup

## 1.1 Create JavaFX Project

If using IntelliJ:

* New Project â†’ JavaFX
* Add VM options:

```bash
--module-path /path/to/javafx/lib --add-modules javafx.controls,javafx.fxml,javafx.media
```

If using Maven, include:

```xml
<dependencies>
    <dependency>
        <groupId>org.openjfx</groupId>
        <artifactId>javafx-controls</artifactId>
        <version>21</version>
    </dependency>
    <dependency>
        <groupId>org.openjfx</groupId>
        <artifactId>javafx-media</artifactId>
        <version>21</version>
    </dependency>
</dependencies>
```

---

## 1.2 Package Structure (MVC Clean Architecture)

```
com.fantasymanagerxi
â”‚
â”œâ”€â”€ MainApp.java
â”œâ”€â”€ model
â”‚   â”œâ”€â”€ Player.java
â”‚   â”œâ”€â”€ Team.java
â”‚   â””â”€â”€ LeagueTableEntry.java
â”‚
â”œâ”€â”€ view
â”‚   â”œâ”€â”€ HomePageView.java
â”‚   â”œâ”€â”€ TeamDetailsView.java
â”‚
â”œâ”€â”€ controller
â”‚   â”œâ”€â”€ HomeController.java
â”‚   â””â”€â”€ TeamController.java
â”‚
â”œâ”€â”€ service
â”‚   â””â”€â”€ DataService.java
â”‚
â””â”€â”€ util
    â””â”€â”€ SceneManager.java
```

âœ” Separation of concerns
âœ” No business logic inside UI classes
âœ” Data isolated in service layer

---

# ğŸ§  PHASE 2 â€” Data Model

We use **in-memory data only** (no database).

---

## 2.1 Player Model

```java
package com.fantasymanagerxi.model;

import javafx.beans.property.*;

public class Player {

    private final StringProperty name;
    private final IntegerProperty age;
    private final IntegerProperty goals;
    private final DoubleProperty salary;

    public Player(String name, int age, int goals, double salary) {
        this.name = new SimpleStringProperty(name);
        this.age = new SimpleIntegerProperty(age);
        this.goals = new SimpleIntegerProperty(goals);
        this.salary = new SimpleDoubleProperty(salary);
    }

    public StringProperty nameProperty() { return name; }
    public IntegerProperty ageProperty() { return age; }
    public IntegerProperty goalsProperty() { return goals; }
    public DoubleProperty salaryProperty() { return salary; }
}
```

Why JavaFX Properties?

* Required for TableView binding
* Enables automatic UI updates

---

## 2.2 Team Model

```java
package com.fantasymanagerxi.model;

import javafx.collections.*;

public class Team {

    private String name;
    private ObservableList<Player> players;

    public Team(String name) {
        this.name = name;
        this.players = FXCollections.observableArrayList();
    }

    public String getName() { return name; }
    public ObservableList<Player> getPlayers() { return players; }
}
```

---

## 2.3 LeagueTableEntry Model

```java
public class LeagueTableEntry {

    private String teamName;
    private int points;
    private int goalDifference;

    public LeagueTableEntry(String teamName, int points, int gd) {
        this.teamName = teamName;
        this.points = points;
        this.goalDifference = gd;
    }

    public String getTeamName() { return teamName; }
    public int getPoints() { return points; }
    public int getGoalDifference() { return goalDifference; }
}
```

---

## 2.4 DataService (Hardcoded Top 6 Teams)

```java
public class DataService {

    private ObservableList<Team> teams = FXCollections.observableArrayList();

    public DataService() {
        createTeams();
    }

    private void createTeams() {
        Team arsenal = new Team("Arsenal");
        for(int i=1; i<=15; i++) {
            arsenal.getPlayers().add(
                new Player("Arsenal Player " + i,
                        18 + i,
                        i * 2,
                        50000 + i * 1000)
            );
        }
        teams.add(arsenal);

        // Repeat for 5 more teams
    }

    public ObservableList<Team> getTeams() {
        return teams;
    }
}
```

---

# ğŸ  PHASE 3 â€” Homepage UI

The homepage must show:

* 6 Teams (clickable)
* League Table
* Matchday Highlights

Weâ€™ll use:

| Feature      | Component  |
| ------------ | ---------- |
| Layout       | BorderPane |
| Teams        | ListView   |
| League Table | TableView  |
| Highlights   | MediaView  |

---

## 3.1 HomePageView Layout

```java
public class HomePageView {

    private BorderPane root;
    private ListView<Team> teamList;
    private TableView<LeagueTableEntry> table;

    public HomePageView() {
        root = new BorderPane();

        teamList = new ListView<>();
        table = new TableView<>();

        VBox leftPanel = new VBox(new Label("Teams"), teamList);
        VBox centerPanel = new VBox(new Label("League Table"), table);

        root.setLeft(leftPanel);
        root.setCenter(centerPanel);
    }

    public BorderPane getRoot() { return root; }
}
```

---

# ğŸ” PHASE 4 â€” Navigation System

Weâ€™ll use **Scene Switching**.

---

## 4.1 SceneManager Utility

```java
public class SceneManager {

    private static Stage primaryStage;

    public static void setStage(Stage stage) {
        primaryStage = stage;
    }

    public static void switchScene(Parent root) {
        primaryStage.setScene(new Scene(root, 1000, 600));
    }
}
```

---

## 4.2 Clickable Team Names

Inside HomeController:

```java
teamList.setOnMouseClicked(event -> {
    Team selected = teamList.getSelectionModel().getSelectedItem();
    if(selected != null) {
        TeamDetailsView view = new TeamDetailsView(selected);
        SceneManager.switchScene(view.getRoot());
    }
});
```

âœ” Clean navigation
âœ” No coupling between views

---

# ğŸ“‹ PHASE 5 â€” Team Details Page

This page must show:

* Team name
* TableView of players
* Sorting options

---

## 5.1 TableView Setup

```java
TableView<Player> playerTable = new TableView<>();

TableColumn<Player, String> nameCol = new TableColumn<>("Name");
nameCol.setCellValueFactory(data -> data.getValue().nameProperty());

TableColumn<Player, Number> ageCol = new TableColumn<>("Age");
ageCol.setCellValueFactory(data -> data.getValue().ageProperty());

TableColumn<Player, Number> goalsCol = new TableColumn<>("Goals");
goalsCol.setCellValueFactory(data -> data.getValue().goalsProperty());

TableColumn<Player, Number> salaryCol = new TableColumn<>("Salary");
salaryCol.setCellValueFactory(data -> data.getValue().salaryProperty());

playerTable.getColumns().addAll(nameCol, ageCol, goalsCol, salaryCol);
playerTable.setItems(team.getPlayers());
```

---

# ğŸ”¢ PHASE 6 â€” Sorting Logic

Two ways:

---

## Option 1: Built-in TableView Sorting (Recommended)

```java
playerTable.getSortOrder().add(goalsCol);
goalsCol.setSortType(TableColumn.SortType.DESCENDING);
```

âœ” JavaFX handles sorting automatically.

---

## Option 2: Custom Comparator Sorting

Example: Sort by Goals descending:

```java
FXCollections.sort(team.getPlayers(),
        Comparator.comparingInt(Player::getGoals).reversed());
```

To support this:

Add getter in Player:

```java
public int getGoals() {
    return goals.get();
}
```

---

## Optional Filter Example

```java
FilteredList<Player> filtered = new FilteredList<>(team.getPlayers(), p -> true);

filtered.setPredicate(player -> player.getGoals() > 5);

playerTable.setItems(filtered);
```

---

# ğŸ¥ PHASE 7 â€” Media Player Integration

If you want matchday highlights video:

---

## 7.1 Media Setup

```java
Media media = new Media(new File("highlight.mp4").toURI().toString());
MediaPlayer mediaPlayer = new MediaPlayer(media);
MediaView mediaView = new MediaView(mediaPlayer);

mediaPlayer.play();
```

Add to layout:

```java
root.setBottom(mediaView);
```

---

## Fallback (If no video)

```java
Label highlights = new Label("Matchday 1: Arsenal 3-1 Chelsea");
root.setBottom(highlights);
```

---

# ğŸ— PHASE 8 â€” Final Structure Overview

```
MainApp
   â†“
HomeController
   â†“
HomePageView
   â†“ click
TeamDetailsView
```

Everything flows through SceneManager.

---

# ğŸ¨ OPTIONAL ADVANCED IMPROVEMENTS

---

## 1ï¸âƒ£ Migrate to SQLite Later

Replace DataService with DAO pattern:

```
TeamDAO
PlayerDAO
DatabaseManager
```

Use JDBC:

```java
Connection conn = DriverManager.getConnection("jdbc:sqlite:fantasy.db");
```

Replace in-memory lists with DB queries.

---

## 2ï¸âƒ£ Add CSS Styling

Create `style.css`

```css
.root {
    -fx-background-color: #1e1e1e;
}

.table-view {
    -fx-border-color: gold;
}
```

Load it:

```java
scene.getStylesheets().add(getClass().getResource("style.css").toExternalForm());
```

---

## 3ï¸âƒ£ Improve UI Layout

Use:

* GridPane for structured layout
* SplitPane for adjustable panels
* ToolBar for navigation

---

# âœ… FINAL IMPLEMENTATION CHECKLIST

âœ” Project runs with JavaFX 21
âœ” 6 teams created
âœ” 15 players per team
âœ” Homepage displays:

* Team list
* League table
* Highlights section

âœ” Clicking team opens details page
âœ” Player table sortable by:

* Goals
* Age
* Salary

âœ” Uses ObservableList
âœ” Follows MVC separation
âœ” No business logic inside View classes
âœ” Scene switching works correctly

---

If youâ€™d like, I can next provide:

* A simplified complete working project skeleton
* UML diagram
* Or a polished UI layout design guide ğŸš€
